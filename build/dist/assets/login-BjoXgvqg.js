import{r as n,j as e,F as u,R as h,a as x}from"./foot-DlPh9S-z.js";import{L as g}from"./main-C1zVpQKk.js";import{I as j,E as p,P as f,G as v}from"./foot-DkDkRJCJ.js";import{u as E,B as w}from"./chunk-EF7DTUVF-Cka4P_HG.js";/* empty css             */function N(){const[t,a]=n.useState(null),[o,s]=n.useState(""),[c,l]=n.useState(""),d=async r=>{r.preventDefault();try{const i=await fetch("/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:o})}),m=await i.json();i.ok?window.location.href="/home":a(`${m.message}`)}catch{a("Error Desconocido, Porfavor Reintentar")}};return e.jsx("form",{className:"form-container-crendential",onSubmit:d,children:e.jsxs("div",{className:"log-in-div",children:[t&&e.jsx(j,{error:t,display:"block"}),e.jsx(p,{id:"login-email",text:"Username / Email",value:c,onChange:r=>l(r.target.value)}),e.jsx(f,{id:"login-password",text:"Password",value:o,onChange:r=>s(r.target.value)}),e.jsx("div",{className:"summit-session",children:e.jsx("div",{className:"send-credentials-form",action:"./home.html",children:e.jsx("button",{id:"summit-session",type:"submit",children:e.jsx("div",{className:"summit-class",id:"signin-button",children:"Sign In"})})})}),e.jsx("div",{className:"summit-session",children:e.jsx("div",{className:"options-div",children:e.jsxs("p",{id:"text-options",children:["Aun no estas registrado?",e.jsx("span",{children:e.jsx("a",{href:"/register",children:" Registrate aqui!"})})]})})})]})})}function S(){const[t,a]=n.useState(null),o=E();return n.useEffect(()=>{fetch("/api/auth/session-check",{credentials:"include",method:"GET",headers:{"Cache-Control":"no-cache"}}).then(s=>s.json()).then(s=>{console.log("Respuesta sesión:",s),a(s.loggedIn)}).catch(s=>console.error("Error de sesión:",s))},[]),n.useEffect(()=>{t===!0&&(o("/home"),window.location.href="/home")},[t,o]),t===null?e.jsx(g,{}):e.jsx(e.Fragment,{children:e.jsx(v,{children:e.jsxs("main",{className:"main-content",children:[e.jsx(N,{}),e.jsx(u,{className:"main-footer"})]})})})}h.createRoot(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsx(w,{children:e.jsx(S,{})})}));
