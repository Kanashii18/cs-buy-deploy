import{j as e,r as n,F as g,R as y,a as b}from"./foot-DlPh9S-z.js";import{l as _}from"./index-BLRFddlS.js";import{L as S}from"./main-C1zVpQKk.js";import{T as f,h as N}from"./logout-wIAxNqhm.js";/* empty css             *//* empty css             */function w(){return e.jsx("div",{className:"banner-div-container",children:e.jsx("div",{className:"banner-layer",children:e.jsx("div",{className:"banner-img",children:e.jsx("img",{id:"banner-img-cont",src:"../data/images/dasd.png",alt:""})})})})}function C({onBuscar:s}){const[a,r]=n.useState(""),c=t=>{t.preventDefault(),s(a)};return e.jsxs("form",{className:"search-bar",onSubmit:c,children:[e.jsx("input",{type:"text",value:a,onChange:t=>r(t.target.value),placeholder:"",alt:"Search input","aria-label":"Search products, services or assets"}),e.jsx("button",{type:"submit",id:"search-icon",children:e.jsx("img",{src:"../assets/icons/search.svg",alt:"Search button"})})]})}function E(){const[s,a]=n.useState(500),r=c=>{a(c.target.value)};return e.jsx("section",{className:"config-products",children:e.jsxs("div",{className:"container-config",children:[e.jsx("section",{className:"layout-category-container",children:e.jsxs("div",{className:"category-container",children:[e.jsxs("div",{className:"options-container",children:[e.jsx("h5",{children:"Categorías"}),e.jsxs("ul",{className:"category-list",children:[e.jsxs("li",{children:[e.jsx("input",{type:"radio",id:"discounts",name:"category",hidden:!0}),e.jsx("label",{htmlFor:"discounts",children:"Descuentos"})]}),e.jsxs("li",{children:[e.jsx("input",{type:"radio",id:"accounts",name:"category",hidden:!0}),e.jsx("label",{htmlFor:"accounts",children:"Cuentas"})]}),e.jsxs("li",{children:[e.jsx("input",{type:"radio",id:"services",name:"category",hidden:!0}),e.jsx("label",{htmlFor:"services",children:"Servicios"})]}),e.jsxs("li",{children:[e.jsx("input",{type:"radio",id:"assets",name:"category",hidden:!0}),e.jsx("label",{htmlFor:"assets",children:"Assets"})]})]})]}),e.jsxs("div",{className:"trending-categories",children:[e.jsx("h5",{children:"Tendencias"}),e.jsxs("ul",{children:[e.jsx("li",{children:"🎮 Videojuegos"}),e.jsx("li",{children:"🎵 Música"}),e.jsx("li",{children:"🛠 Boosting"}),e.jsx("li",{children:"📦 Packs"}),e.jsx("li",{children:"🔐 Licencias"})]})]})]})}),e.jsx("div",{className:"ad-layout-div",children:e.jsx("div",{className:"ad-content-div",children:e.jsx("img",{src:"../data/images/ad.png",alt:"ad image"})})}),e.jsx("section",{className:"price-config-contianer",children:e.jsxs("div",{className:"price-config-div",children:[e.jsxs("div",{className:"text-price-config",children:[e.jsx("div",{className:"min-price",children:e.jsxs("span",{style:{whiteSpace:"nowrap"},id:"min-value",className:"priceValue",children:[" Min ",0," $"]})}),e.jsx("div",{className:"max-price",children:e.jsxs("span",{style:{whiteSpace:"nowrap"},id:"max-value",className:"priceValue",children:[" Max ",s," $"]})})]}),e.jsx("label",{htmlFor:"priceRange"}),e.jsx("input",{className:"input-text-config",type:"range",id:"priceRange",min:"1",max:"1000",value:s,step:"1",onChange:r})]})})]})})}function k({product:s}){const[a,r]=n.useState(null);return console.log(s?.discount?.hasDiscount),n.useEffect(()=>{s&&s.discount&&r(s.discount.hasDiscount)},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"product-item-layer",children:e.jsx("article",{className:"product-item-content",id:s.product_id,children:e.jsxs("a",{className:"product-link",href:`product?id=${s.product_id}`,"aria-label":`View details for ${s.title}`,itemProp:"url",itemScope:!0,itemType:"http://schema.org/Product",children:[e.jsxs("div",{id:"high-resolution-div",children:[e.jsxs("div",{className:"img_div-content",children:[e.jsx("div",{className:"img-layer-div",children:e.jsx("img",{src:s.image,alt:s.title,className:"product-image"})}),e.jsxs("div",{className:"right_img-side",children:[e.jsxs("div",{className:"right_img-value right_img-price",children:[e.jsx("span",{id:"right_price",children:"$"}),e.jsx("span",{id:"right_price-value",children:s.price})]}),e.jsxs("div",{className:"right_img-value right_img-unit",children:[e.jsx("span",{id:"right_unit",children:"unit"}),e.jsx("span",{id:"right_unit-value",children:s.quantity})]})]})]}),e.jsxs("div",{className:"div-text-product",children:[e.jsx("div",{className:"title-product",children:e.jsx("h2",{children:s.title})}),e.jsx("div",{className:"product-info-div",children:e.jsxs("div",{className:"user-info",itemProp:"seller",itemScope:!0,itemType:"http://schema.org/Organization",children:[e.jsx("h3",{className:"text-info-username",children:s.seller_name}),e.jsxs("h4",{className:"text-info-username",children:[s.seller_rate,"%"]}),e.jsxs("h4",{className:"text-info-username",children:["[",s.quantity,"]"]})]})})]})]}),e.jsxs("div",{id:"low-resolution-div",children:[e.jsxs("div",{className:"img-layer-div img-set-div",children:[e.jsxs("div",{className:"user-info",itemProp:"seller",itemScope:!0,itemType:"http://schema.org/Organization",children:[e.jsx("h3",{className:"text-info-username",children:s.seller_name}),e.jsxs("div",{className:"stadistic-div",children:[e.jsxs("h4",{className:"text-info-username",children:[s.seller_rate,"%"]}),e.jsxs("h4",{className:"text-info-username",children:["[",s.quantity,"]"]})]}),e.jsxs("p",{className:"price-content",children:["$",e.jsx("span",{itemProp:"price",content:s.price,style:{color:"white"},children:s.price})]})]}),e.jsx("div",{className:"img-content",children:e.jsx("img",{src:s.image,alt:s.title,className:"product-image"})})]}),e.jsx("div",{className:"title-product img-set-div",children:e.jsx("div",{className:"title-layer",children:e.jsx("h2",{children:s.title})})})]})]})})})})}function P({currentPage:s,totalPages:a,onPrev:r,onNext:c}){return e.jsx("section",{className:"options-foot-section",children:e.jsx("div",{className:"options-container-foot",children:e.jsxs("div",{className:"options-colunm-div",children:[e.jsx("div",{className:"options-table-element",id:"return-back-page",onClick:r,"aria-disabled":s===1,title:s===1?"No previous page":"Previous page",children:e.jsx("img",{src:"../assets/icons/options/back-arrow.svg",alt:"back option"})}),e.jsx("div",{className:"options-table-element",id:"actual-page-number",children:e.jsxs("h4",{id:"text-actual-page",children:[s," of ",a]})}),e.jsx("div",{className:"options-table-element",id:"next-product-page",onClick:c,"aria-disabled":s===a,title:s===a?"No next page":"Next page",children:e.jsx("img",{src:"../assets/icons/options/next-arrow.svg",alt:"forward option"})})]})})})}function F({productos:s}){function r(m,x){const i=[];for(let l=0;l<m.length;l+=x)i.push(m.slice(l,l+x));return i}const c=r(s,18),[t,o]=n.useState(1),u=c.length,h=()=>{t>1&&o(t-1)},j=()=>{t<u&&o(t+1)};return e.jsxs("section",{className:"container-products",children:[e.jsx(E,{}),e.jsx("div",{className:"conteiner-products",id:"products-container",children:s.length===0?e.jsxs("section",{className:"product-not-found",children:[e.jsx("div",{className:"img-alert not_found_img",children:e.jsx("img",{src:"/data/images/mascots/notfound.png",alt:"not found image"})}),e.jsx("div",{className:"not-found-layer",children:e.jsx("h3",{style:{color:"white",textAlign:"center",width:"100%"},children:"No se encontraron productos."})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"seller-product-content",children:c[t-1]?e.jsx(e.Fragment,{children:c[t-1].map(m=>e.jsx(k,{product:m},m.product_id))}):e.jsx(e.Fragment,{children:e.jsxs("section",{className:"product-not-found",children:[e.jsx("div",{className:"img-alert not_found_img",children:e.jsx("img",{src:"/data/images/mascots/notfound.png",alt:"not found image"})}),e.jsx("div",{className:"not-found-layer",children:e.jsx("h3",{style:{color:"white",textAlign:"center",width:"100%"},children:"No se encontraron productos."})})]})})}),e.jsx(P,{currentPage:t,totalPages:u,onPrev:h,onNext:j})]})})]})}const p=_();function L(){n.useEffect(()=>{const i=l=>{const d=l.target.closest("a");d&&d.href&&d.target!=="_blank"&&!d.href.startsWith("javascript:")&&d.origin===window.location.origin&&(l.preventDefault(),document.body.classList.add("fade-out"),setTimeout(()=>{window.location.href=d.href},70))};return document.body.addEventListener("click",i),()=>document.body.removeEventListener("click",i)},[]);const[s,a]=n.useState([]),[r,c]=n.useState([]);n.useEffect(()=>{fetch("/api/seller/get-product",{credentials:"include",method:"GET",headers:{"Cache-Control":"no-cache"}}).then(i=>i.json()).then(i=>{console.log(i),a(i),c(i)})},[]);const t=i=>{const l=i.toLowerCase(),d=s.filter(v=>v.title?.toLowerCase().includes(l)||v.description?.toLowerCase().includes(l));c(d)},[o,u]=n.useState(!1),[h,j]=n.useState(!1),[m,x]=n.useState(!0);return n.useEffect(()=>{fetch("/api/auth/session-check",{credentials:"include",method:"GET",headers:{"Cache-Control":"no-cache"}}).then(i=>i.json()).then(i=>{console.log("Respuesta sesión:",i),u(i.loggedIn),i.loggedIn&&j({id:i.id,username:i.username,img:i.img,role:i.role}),x(!1)}).catch(i=>console.error("Error de sesión:",i))},[]),n.useEffect(()=>{if(o&&h){const i=()=>{console.log(`User ${h.id} connected`)};return p.connected&&i(),p.on("connect",i),()=>{p.off("connect",i)}}},[o,h]),m?e.jsxs(e.Fragment,{children:[e.jsx(f,{handlelogout:N,loggedIn:o,user:o?h:{}}),e.jsx(S,{}),e.jsx(g,{})?e.jsx(g,{}):e.jsx("div",{children:"Cargando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{handlelogout:N,loggedIn:o,user:o?h:{}}),e.jsxs("main",{className:"main-content",children:[e.jsx(w,{}),e.jsx(C,{onBuscar:t}),e.jsx(F,{productos:r}),e.jsx(g,{})]})]})}y.createRoot(document.getElementById("root")).render(e.jsx(b.StrictMode,{children:e.jsx(L,{})}));
